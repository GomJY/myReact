<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="UTF-8">
  <script src="https://unpkg.com/babel-standalone@6/babel.min.js"></script>
  <script crossorigin src="https://unpkg.com/react@16/umd/react.development.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@16/umd/react-dom.development.js"></script>
  <title>구구단</title>
</head>

<body>

  <body>
    <div id="root"></div>

    <script type="text/babel">
      class GuGuDan extends React.Component {
        constructor(props) {
          super(props);
          this.state = {
            first: Math.ceil(Math.random() * 9),  
            second: Math.ceil(Math.random() * 9),
            value: '',
            result: '',  
          };
        }
        
        //this.onSubmit으로 불러올수 있고 render에 넣는 것보다 더 깔끔하게 코드를 관리할수 있다.
        onSubmit = (e) => {
          e.preventDefault();
          if(parseInt(this.state.value) === this.state.first * this.state.second) {
            this.setState({
              result: ` ${this.state.first} x ${this.state.second} = ${this.state.value} 정답!`,
              first: Math.ceil(Math.random() * 9),  
              second: Math.ceil(Math.random() * 9),
              value: '',
            });
          } else {
            this.setState({
              result: '땡',
              value: '',
            });
          }
        };
        
        onChange = (e) => { 
          this.setState({value: e.target.value}) 
        };

        render() {
          //<input type="number".../> 단일 태그는 전부 뒤에 />을 달아야 된다. 이것은 html이 아닌 JSX 이기 때문에 유념해야된다.
          return (
            <div>
              <div>{this.state.first}곱하기 { this.state.second }는?</div>
              <form onSubmit={ this.onSubmit }>
                <input type="number" value={this.state.value} onChange={this.onChange}/>
                <button >입력!</button>
              </form>   
              <div>{this.state.result}</div>
            </div> 
          );
        }
      }
    </script>
    <script type="text/babel">
      ReactDOM.render(
        <React.Fragment>
          <GuGuDan/>
          <GuGuDan/>
        </React.Fragment>
      ,document.querySelector("#root"));
      /** 지원하는 경우에는 위에 대신 이거 쓰기
       * <>
       *  <GuGuDan/>
       *  <GuGuDan/>
       * </>
       **/
    </script>
  </body>

</html>


  <!-- fragment
     <React.Fragment>는 컴포넌트가 여러개의 요소를 반환하는 것입니다. Fragments를 사용하면 DOM에 별도 노드를 추가하지 않고 자식 목록을 그룹화할 수 있습니다.
      하지만 현재 버전이 <>것을 지원하는 경우에는 대신 이것을 사용해도 된다

  state은 component 마다 다른 state를 가진다. -->